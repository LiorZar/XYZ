<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Plot</title>

		<style>
			* {
				box-sizing: border-box; /* Include padding in the element's total width */
				margin: 0;
				padding: 0;
			}
			/* Container holding both the control panel and the canvas */
			.container {
				display: flex;
				height: 100vh; /* Full height of the viewport */
			}

			/* Control Panel Styles */
			.control-panel {
				width: 250px; /* Fixed width for the control panel */
				background-color: #f0f0f0; /* Light grey background */
				padding: 5px; /* Padding around the content */
			}

			/* Canvas Styles */
			.canvas-container {
				flex-grow: 1; /* Take up remaining space */
				background-color: #ffffff; /* White background */
				display: flex;
				justify-content: center;
				align-items: center;
			}
			.resizer {
				width: 5px; /* Width of the draggable area */
				cursor: ew-resize; /* Cursor indicates resizable area */
				background-color: #333; /* Resizer color */
				height: 100%;
			}
			canvas {
				width: 100%;
				height: 100%;
			}
			.bicon {
				width: 35px;
				height: 35px;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="control-panel">
				<button onclick="app.onButton('in')"><img src="icons/solid/plus.svg" class="bicon" /></button>
				<button onclick="app.onButton('out')"><img src="icons/solid/minus.svg" class="bicon" /></button>
				<button onclick="app.onButton('left')"><img src="icons/solid/arrow-left.svg" class="bicon" /></button>
				<button onclick="app.onButton('right')"><img src="icons/solid/arrow-right.svg" class="bicon" /></button>
				<button onclick="app.onButton('up')"><img src="icons/solid/arrow-up.svg" class="bicon" /></button>
				<button onclick="app.onButton('down')"><img src="icons/solid/arrow-down.svg" class="bicon" /></button>
				<button onclick="app.onButton('dir')"><img src="icons/solid/folder-open.svg" class="bicon" /></button>
				<button onclick="app.onButton('file')"><img src="icons/solid/file-lines.svg" class="bicon" /></button>
				<select id="signalBox" onchange="app.onChange('signal', this.value)">
					<option value="option1">Option 1</option>
					<option value="option2">Option 2</option>
					<option value="option3">Option 3</option>
				</select>
				<input type="color" id="signalColor" onchange="app.onChange('color', this.value)" />
				<div class="input-container">
					<label for="inputBox">Visibility:</label>
					<input type="checkbox" id="enableCheckbox" onchange="app.onChange('enable', this.checked)" />
				</div>

				<div class="input-container">
					<label for="inputBox">File:</label>
					<input type="text" id="inputBox" onchange="app.onChange('file', this.value)" />
				</div>
				<div class="input-container">
					<label for="inputBox">Comp:</label>
					<input type="number" id="spinComp" onchange="app.onChange('comp', this.value*1.0)" />
				</div>
				<div class="input-container">
					<label for="inputBox">Stride:</label>
					<input type="number" id="spinStride" onchange="app.onChange('stride', this.value*1.0)" />
				</div>
				<div class="input-container">
					<label for="inputBox">Width:</label>
					<input type="number" id="spinWidth" onchange="app.onChange('width', this.value*1.0)" />
				</div>
				<div class="input-container">
					<label for="inputBox">Scale:</label>
					<input type="number" id="spinScale" onchange="app.onChange('scale', this.value*1.0)" />
				</div>
				<div class="input-container">
					<label for="inputBox">Offset:</label>
					<input type="number" id="spinOffset" onchange="app.onChange('offset', this.value*1.0)" />
				</div>
				<select id="shaderBox" onchange="app.onChange('shader', this.value)">
					<option value="signal">Signal</option>
					<option value="derivative">Derivative</option>
					<option value="integral">Integral</option>
					<option value="average">Average</option>
					<option value="magnitude">Magnitude</option>
					<option value="phase">Phase</option>
					<option value="energy">Energy</option>
				</select>
			</div>
			<div class="resizer"></div>
			<div class="canvas-container">
				<canvas id="__canvas__"></canvas>
			</div>
		</div>
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				const resizer = document.querySelector(".resizer");
				const leftPanel = document.querySelector(".control-panel");
				let startX, startWidth;

				resizer.addEventListener("mousedown", function (e) {
					startX = e.clientX;
					startWidth = parseInt(document.defaultView.getComputedStyle(leftPanel).width, 10);
					document.documentElement.addEventListener("mousemove", doDrag, false);
					document.documentElement.addEventListener("mouseup", stopDrag, false);
				});

				function doDrag(e) {
					leftPanel.style.width = startWidth + e.clientX - startX + "px";
				}

				function stopDrag() {
					document.documentElement.removeEventListener("mousemove", doDrag, false);
					document.documentElement.removeEventListener("mouseup", stopDrag, false);
				}
			});
		</script>
		<script src="scripts/plot.js"></script>
	</body>
</html>
